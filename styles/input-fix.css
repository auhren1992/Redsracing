/* Global Input Text Visibility Fix */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="search"],
input[type="tel"],
input[type="url"],
input[type="number"],
input[type="date"],
input[type="time"],
input[type="datetime-local"],
textarea,
select {
    color: #ffffff !important;
    -webkit-text-fill-color: #ffffff !important;
}

/* Ensure dark backgrounds have good contrast */
input[type="text"]:not([style*="background"]),
input[type="email"]:not([style*="background"]),
input[type="password"]:not([style*="background"]),
input[type="search"]:not([style*="background"]),
input[type="tel"]:not([style*="background"]),
input[type="url"]:not([style*="background"]),
input[type="number"]:not([style*="background"]),
input[type="date"]:not([style*="background"]),
input[type="time"]:not([style*="background"]),
input[type="datetime-local"]:not([style*="background"]),
textarea:not([style*="background"]),
select:not([style*="background"]) {
    background: rgba(30, 41, 59, 0.9) !important;
}

/* Placeholder text visibility */
input::placeholder,
textarea::placeholder {
    color: #94a3b8 !important;
    opacity: 1 !important;
}

input::-webkit-input-placeholder,
textarea::-webkit-input-placeholder {
    color: #94a3b8 !important;
}

input::-moz-placeholder,
textarea::-moz-placeholder {
    color: #94a3b8 !important;
}

input:-ms-input-placeholder,
textarea:-ms-input-placeholder {
    color: #94a3b8 !important;
}

/* Focus state - make background slightly lighter */
input:focus,
textarea:focus,
select:focus {
    background: rgba(30, 41, 59, 1) !important;
    color: #ffffff !important;
    -webkit-text-fill-color: #ffffff !important;
}

/* Autofill override - Chrome/Safari */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active {
    -webkit-text-fill-color: #ffffff !important;
    -webkit-box-shadow: 0 0 0px 1000px rgba(30, 41, 59, 0.9) inset !important;
    box-shadow: 0 0 0px 1000px rgba(30, 41, 59, 0.9) inset !important;
    transition: background-color 5000s ease-in-out 0s;
}

/* ==========================================
   iOS & ANDROID MOBILE OPTIMIZATIONS
   ========================================== */

/* Prevent iOS zoom on input focus - requires 16px minimum font-size */
@media screen and (max-width: 767px) {
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="search"],
    input[type="tel"],
    input[type="url"],
    input[type="number"],
    input[type="date"],
    input[type="time"],
    input[type="datetime-local"],
    textarea,
    select {
        font-size: 16px !important; /* Prevents iOS auto-zoom */
    }
}

/* Touch-friendly input sizing */
input,
textarea,
select {
    min-height: 44px; /* Apple's recommended minimum touch target */
    touch-action: manipulation; /* Faster tap response */
}

/* Disable iOS default input shadows */
input,
textarea {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    border-radius: 8px;
}

/* Prevent text size adjust on orientation change */
html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
}

/* Safe area padding for notched devices (iPhone X+) */
.safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom, 0px);
}

.safe-area-top {
    padding-top: env(safe-area-inset-top, 0px);
}

/* Improved touch scrolling */
.scroll-container {
    -webkit-overflow-scrolling: touch;
    overflow-y: auto;
}

/* Disable tap highlight on mobile */
a,
button,
input,
textarea,
select,
.touchable {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
}

/* Improve button tap states for mobile */
button:active,
.btn:active,
a.cta-button:active {
    transform: scale(0.98);
    opacity: 0.9;
}

/* Fix for iOS date/time inputs */
input[type="date"],
input[type="time"],
input[type="datetime-local"] {
    -webkit-appearance: none;
    min-height: 48px;
    padding: 12px 16px;
}

/* Mobile-friendly select dropdown */
select {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2394a3b8' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    padding-right: 36px;
}

/* Fix for Android Chrome form controls */
input::-webkit-calendar-picker-indicator {
    filter: invert(1);
    cursor: pointer;
}

/* Smooth focus transitions */
input,
textarea,
select {
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

/* Better visibility for validation states */
input:invalid:not(:placeholder-shown),
textarea:invalid:not(:placeholder-shown) {
    border-color: #ef4444 !important;
}

input:valid:not(:placeholder-shown),
textarea:valid:not(:placeholder-shown) {
    border-color: #22c55e !important;
}
